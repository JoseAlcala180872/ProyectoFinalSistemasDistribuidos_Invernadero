<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Datos por Fecha</title>
    <link rel="stylesheet" href="asstets/css/datosFecha.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>
<body>
    <nav class="sidebar">
        <a href="dashboard.html" class="sidebar-icon" title="Dashboard">
            <i class="fas fa-home"></i>
        </a>
        <a href="sensores.html" class="sidebar-icon" title="Sensores">
            <i class="fas fa-microchip"></i>
        </a>
        <a href="alarmas.html" class="sidebar-icon" title="Notificaciones">
            <i class="fas fa-bell"></i>
        </a>
        <a href="datosFecha.html" class="sidebar-icon" title="Estadísticas">
            <i class="fas fa-chart-line"></i>
        </a>
        <a href="greenhouse-settings.html" class="sidebar-icon" title="Configuración">
            <i class="fas fa-cog"></i>
        </a>
    </nav>
    
    <div class="content">
        <h1 class="title">Datos por fecha</h1>
        
        <div class="calendar-interval">
            <div class="calendar-icon" id="calendarIcon" title="Seleccionar intervalo de fechas">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/>
                    <path d="M4 8h16v13H4z" opacity=".3"/>
                </svg>
            </div>
            <form id="dateFields" style="display:none; margin-top:0; align-items:center;">
                <label for="fechaInicio">Desde:</label>
                <input type="date" id="fechaInicio" name="fechaInicio" required>
                <label for="fechaFin">Hasta:</label>
                <input type="date" id="fechaFin" name="fechaFin" required>
                <button type="button" id="buscarFechas">Buscar</button>
            </form>
        </div>
        <script>
            document.getElementById('calendarIcon').addEventListener('click', function() {
                var dateFields = document.getElementById('dateFields');
                dateFields.style.display = dateFields.style.display === 'none' ? 'flex' : 'none';
            });
        </script>
        
        <div id="error-fechas" style="display:none;color:white;background:#e74c3c;padding:10px;margin:10px 0;border-radius:5px;text-align:center;"></div>
        
        <div class="chart-container">
            <table class="datos-tabla">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Promedio Humedad</th>
                        <th>Promedio Temperatura</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Las filas se llenarán dinámicamente con JS -->
                </tbody>
            </table>
        </div>
    </div>

    <script type="module" src="asstets/js/datosFecha.js"></script>
</body>
</html>